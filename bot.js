const { Telegraf, Markup } = require('telegraf');


const BOT_TOKEN = '8544162811:AAF5nvXsORD05toABjbXC9zTTkolZWWRzFE'; 


const bot = new Telegraf(BOT_TOKEN);
// ĞšĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸Ñ Ğ–Ğ¸Ğ²Ğ¾Ñ‚Ğ½Ñ‹Ğµ
const ANIMAL_WORDS = [
    "Ğ°Ğ³Ğ°Ğ¼Ğ°", "Ğ°Ğ¸ÑÑ‚", "Ğ°ĞºÑƒĞ»Ğ°", "Ğ°Ğ»ÑŒĞ±Ğ°Ñ‚Ñ€Ğ¾Ñ", "Ğ°Ğ»ÑŒĞ¿Ğ°ĞºĞ°", "Ğ°Ğ¼Ğ°Ğ´Ğ¸Ğ½Ñ‹", "Ğ°Ğ½Ğ°ĞºĞ¾Ğ½Ğ´Ğ°", "Ğ°Ğ½Ñ‚Ğ¸Ğ»Ğ¾Ğ¿Ğ°", 
    "Ğ°Ğ¿Ğ°Ñ‡Ğ¸", "Ğ°ÑĞ¿Ğ¸Ğ´", "Ğ±Ğ°Ğ±Ğ¾Ñ‡ĞºĞ°", "Ğ±Ğ°Ğ±ÑƒĞ¸Ğ½", "Ğ±Ğ°ĞºĞ»Ğ°Ğ½", "Ğ±Ğ°Ñ€ÑÑƒĞº", "Ğ±Ğ°Ñ€Ñ", "Ğ±ĞµĞ³ĞµĞ¼Ğ¾Ñ‚", 
    "Ğ±ĞµĞºĞ°Ñ", "Ğ±ĞµĞ»ĞºĞ°", "Ğ±ĞµÑ€ĞºÑƒÑ‚", "Ğ±Ğ¾Ğ°", "Ğ±Ğ¾Ğ±ĞµÑ€", "Ğ±Ğ¾Ğ³Ğ¾Ğ¼Ğ¾Ğ»", "Ğ±Ğ¾Ğ¶ÑŒÑĞºĞ¾Ñ€Ğ¾Ğ²ĞºĞ°", "Ğ±Ğ¾Ñ€Ğ·Ğ°Ñ", 
    "Ğ±Ñ€Ğ¾Ğ½ĞµĞ½Ğ¾ÑĞµÑ†", "Ğ±ÑƒĞ¹Ğ²Ğ¾Ğ»", "Ğ±ÑƒÑ€ÑƒĞ½Ğ´ÑƒĞº", "Ğ±Ñ‹Ğº", "Ğ²Ğ°Ñ€Ğ°Ğ½", "Ğ²Ğ°Ğ»ÑŒĞ´ÑˆĞ½ĞµĞ¿", "Ğ²ĞµÑ€Ğ±Ğ»ÑĞ´", "Ğ²ĞµĞ¿Ñ€ÑŒ", 
    "Ğ²Ñ‹Ñ…ÑƒÑ…Ğ¾Ğ»ÑŒ", "Ğ²Ğ¸Ğ²ĞµÑ€Ñ€Ğ°", "Ğ²Ğ¸Ğ½Ğ¾Ğ³Ñ€Ğ°Ğ´Ğ½Ğ°ÑÑƒĞ»Ğ¸Ñ‚ĞºĞ°", "Ğ²Ğ¾Ğ»Ğº", "Ğ²Ğ¾Ğ»Ğ½Ğ¸ÑÑ‚Ñ‹Ğ¹Ğ¿Ğ¾Ğ¿ÑƒĞ³Ğ°Ğ¹", "Ğ²Ğ¾Ñ€Ğ¾Ğ±ĞµĞ¹", 
    "Ğ²Ğ¾Ñ€Ğ¾Ğ½", "Ğ²Ñ‹Ğ´Ñ€Ğ°", "Ğ³Ğ°Ğ³Ğ°Ñ€Ğ°", "Ğ³Ğ°Ğ¹Ğ°Ğ»", "Ğ³Ğ°Ğ¼Ğ°Ğ´Ñ€Ğ¸Ğ»", "Ğ³Ğ°Ğ·ĞµĞ»ÑŒ", "Ğ³Ğ°Ğ´ÑĞºĞ°", "Ğ³ĞµĞºĞºĞ¾Ğ½", 
    "Ğ³ĞµĞ¿Ğ°Ñ€Ğ´", "Ğ³Ğ¸Ğ±Ğ±Ğ¾Ğ½", "Ğ³Ğ¸Ğ³Ğ°Ğ½Ñ‚ÑĞºĞ¸Ğ¹Ğ¼ÑƒÑ€Ğ°Ğ²ÑŒĞµĞ´", "Ğ³Ğ¸ĞµĞ½Ğ°", "Ğ³Ğ¾Ğ»ÑƒĞ±ÑŒ", "Ğ³Ğ¾Ñ€Ğ¸Ğ»Ğ»Ğ°", "Ğ³Ñ€Ğ°Ñ‡", 
    "Ğ³Ñ€ĞµĞ¼ÑƒÑ‡Ğ°ÑĞ·Ğ¼ĞµÑ", "Ğ³Ñ€Ğ¸Ñ„Ğ¾Ğ½", "Ğ³ÑƒÑÑŒ", "Ğ´Ğ°Ğ¼Ğ°Ğ½", "Ğ´ĞµĞ»ÑŒÑ„Ğ¸Ğ½", "Ğ´Ğ¸ĞºĞ¾Ğ±Ñ€Ğ°Ğ·", "Ğ´Ğ¸Ğ½Ğ¾Ğ·Ğ°Ğ²Ñ€", 
    "Ğ´Ğ¾Ğ±ĞµÑ€Ğ¼Ğ°Ğ½", "Ğ´Ñ€Ğ¾Ğ·Ğ´", "Ğ´ÑÑ‚ĞµĞ»", "ĞµĞ¶", "ĞµĞ½Ğ¾Ñ‚", "ĞµÑ…Ğ¸Ğ´Ğ½Ğ°", "Ğ¶Ğ°Ğ±Ğ°", "Ğ¶Ğ°Ğ²Ğ¾Ñ€Ğ¾Ğ½Ğ¾Ğº", 
    "Ğ¶Ğ¸Ñ€Ğ°Ñ„", "Ğ·Ğ°ÑÑ†", "Ğ·ĞµĞ±Ñ€Ğ°", "Ğ·ĞµĞ¼Ğ»ĞµÑ€Ğ¾Ğ¹ĞºĞ°", "Ğ·ÑƒĞ±Ñ€", "Ğ¸Ğ±Ğ¸Ñ", "Ğ¸Ğ³ÑƒĞ°Ğ½Ğ°", "Ğ¸Ğ½Ğ´ÑĞº", 
    "Ğ¸Ñ€Ğ±Ğ¸Ñ", "ĞºĞ°Ğ±Ğ°Ğ½", "ĞºĞ°ĞºĞ°Ğ´Ñƒ", "ĞºĞ°Ğ»ÑŒĞ¼Ğ°Ñ€", "ĞºĞ°Ğ½Ğ°Ñ€ĞµĞ¹ĞºĞ°", "ĞºĞ°Ğ½ÑĞº", "ĞºĞ°Ğ¿Ğ¸Ğ±Ğ°Ñ€Ğ°", "ĞºĞ°Ñ€Ğ°ĞºĞ°Ğ»", 
    "ĞºĞ°Ñ€Ğ¿", "ĞºĞ°ÑĞ°Ñ‚ĞºĞ°", "ĞºĞ°ÑˆĞ°Ğ»Ğ¾Ñ‚", "ĞºĞµĞ½Ğ³ÑƒÑ€Ñƒ", "ĞºĞ¸Ğ²Ğ¸", "ĞºĞ¸Ñ‚", "ĞºĞ¾Ğ°Ğ»Ğ°", "ĞºĞ¾Ğ±Ñ€Ğ°", 
    "ĞºĞ¾Ğ·Ğ°", "ĞºĞ¾Ğ·ĞµĞ»", "ĞºĞ¾Ğ¹Ğ¾Ñ‚", "ĞºĞ¾Ğ»Ğ¸Ğ±Ñ€Ğ¸", "ĞºĞ¾Ğ½ÑŒ", "ĞºĞ¾Ñ€Ğ¾Ğ²Ğ°", "ĞºĞ¾ÑˆĞºĞ°", "ĞºÑ€Ğ°Ğ±", 
    "ĞºÑ€Ğ¾ĞºĞ¾Ğ´Ğ¸Ğ»", "ĞºÑ€Ğ¾Ğ»Ğ¸Ğº", "ĞºÑ€Ğ¾Ñ‚", "ĞºÑ€Ñ‹ÑĞ°", "ĞºÑƒĞ·Ğ½ĞµÑ‡Ğ¸Ğº", "ĞºÑƒĞºÑƒÑˆĞºĞ°", "ĞºÑƒĞ»Ğ°Ğ½", "ĞºÑƒĞ½Ğ¸Ñ†Ğ°", 
    "ĞºÑƒÑ€Ğ¸Ñ†Ğ°", "Ğ»Ğ°Ğ±Ñ€Ğ°Ğ´Ğ¾Ñ€", "Ğ»Ğ°Ğ¼Ğ°", "Ğ»Ğ°Ğ¼Ğ°Ğ½Ñ‚Ğ¸Ğ½", "Ğ»Ğ°ÑĞºĞ°", "Ğ»ĞµĞ±ĞµĞ´ÑŒ", "Ğ»ĞµĞ²", "Ğ»ĞµĞ¼ÑƒÑ€", 
    "Ğ»ĞµĞ¾Ğ¿Ğ°Ñ€Ğ´", "Ğ»ĞµÑ‚ÑƒÑ‡Ğ°ÑĞ¼Ñ‹ÑˆÑŒ", "Ğ»Ğ¸ÑĞ°", "Ğ»Ğ¾ÑĞ¾ÑÑŒ", "Ğ»Ğ¾ÑÑŒ", "Ğ»ÑƒĞ½ÑŒ", "Ğ»ÑĞ³ÑƒÑˆĞºĞ°", "Ğ¼Ğ°Ğ¹Ğ½Ğ°", 
    "Ğ¼Ğ°ĞºĞ°ĞºĞ°", "Ğ¼Ğ°Ğ½ÑƒĞ»", "Ğ¼Ğ°Ñ€Ñ‚Ñ‹ÑˆĞºĞ°", "Ğ¼ĞµĞ´Ğ²ĞµĞ´ÑŒ", "Ğ¼ĞµĞ´ÑƒĞ·Ğ°", "Ğ¼Ğ¸Ğ´Ğ¸Ğ¸", "Ğ¼Ğ¾Ğ»ÑŒ", "Ğ¼Ğ¾Ñ€Ğ¶", 
    "Ğ¼Ğ¾Ñ€ÑĞºĞ°ÑÑĞ²Ğ¸Ğ½ĞºĞ°", "Ğ¼Ğ¾ÑÑŒĞºĞ°", "Ğ¼ÑƒĞ»", "Ğ¼ÑƒÑ€Ğ°Ğ²ÑŒĞµĞ´", "Ğ¼ÑƒÑ…Ğ°", "Ğ¼Ñ‹ÑˆÑŒ", "Ğ½Ğ°ÑĞµĞ´ĞºĞ°", "Ğ½Ğ¾Ñ€ĞºĞ°", 
    "Ğ½Ğ¾ÑĞ¾Ñ€Ğ¾Ğ³", "Ğ½ÑƒÑ‚Ñ€Ğ¸Ñ", "Ğ¾Ğ±ĞµĞ·ÑŒÑĞ½Ğ°", "Ğ¾Ğ²Ñ†Ğ°", "Ğ¾Ğ²Ñ‡Ğ°Ñ€ĞºĞ°", "Ğ¾Ğ»ĞµĞ½ÑŒ", "Ğ¾Ğ¼Ğ°Ñ€", "Ğ¾Ğ¿Ğ¾ÑÑÑƒĞ¼", 
    "Ğ¾Ñ€Ğ°Ğ½Ğ³ÑƒÑ‚Ğ°Ğ½Ğ³", "Ğ¾Ñ€ĞµĞ»", "Ğ¾ÑĞ°", "Ğ¾ÑÑ‘Ğ»", "Ğ¾ÑÑŒĞ¼Ğ¸Ğ½Ğ¾Ğ³", "Ğ¿Ğ°Ğ½Ğ´Ğ°", "Ğ¿Ğ°Ğ½Ñ‚ĞµÑ€Ğ°", "Ğ¿Ğ°ÑƒĞº", 
    "Ğ¿ĞµĞ»Ğ¸ĞºĞ°Ğ½", "Ğ¿ĞµÑ€ĞµĞ¿ĞµĞ»", "Ğ¿ĞµÑÑ‡Ğ°Ğ½ĞºĞ°", "Ğ¿Ğ¸Ğ½Ğ³Ğ²Ğ¸Ğ½", "Ğ¿Ğ¸Ñ‚Ğ¾Ğ½", "Ğ¿Ğ»Ğ°Ñ‚Ğ¸Ğ¿ÑƒÑ", "Ğ¿Ğ¾Ğ¿ÑƒĞ³Ğ°Ğ¹", 
    "Ğ¿Ñ€Ğ¸Ğ¼Ğ°Ñ‚", "Ğ¿ÑƒĞ´ĞµĞ»ÑŒ", "Ğ¿ÑƒĞ¼Ğ°", "Ğ¿Ñ‡ĞµĞ»Ğ°", "Ñ€Ğ°Ğº", "Ñ€ĞµĞ¿Ñ‚Ğ¸Ğ»Ğ¸Ñ", "Ñ€Ğ¾ÑĞ¾Ğ¼Ğ°Ñ…Ğ°", "Ñ€Ñ‹ÑÑŒ", 
    "Ñ€ÑĞ±Ñ‡Ğ¸Ğº", "ÑĞ°Ğ»Ğ°Ğ¼Ğ°Ğ½Ğ´Ñ€Ğ°", "ÑĞ°Ğ¹Ğ³Ğ°Ğº", "ÑĞ°Ğ¿ÑĞ°Ğ½", "ÑĞµĞ²ĞµÑ€Ğ½Ñ‹Ğ¹Ğ¾Ğ»ĞµĞ½ÑŒ", "ÑĞ¸Ğ½Ğ¸Ñ†Ğ°", "ÑĞºĞ°Ñ‚", 
    "ÑĞºĞ¾Ñ€Ğ¿Ğ¸Ğ¾Ğ½", "ÑĞºÑƒĞ½Ñ", "ÑĞ»Ğ¾Ğ½", "ÑĞ¾Ğ²Ğ°", "ÑĞ¾ĞºĞ¾Ğ»", "ÑĞ¾Ğ»Ğ¾Ğ²ĞµĞ¹", "ÑĞ¾Ñ€Ğ¾ĞºĞ°", "ÑÑƒÑ€Ğ¾Ğº", 
    "ÑÑƒÑĞ»Ğ¸Ğº", "Ñ‚Ğ°Ñ€Ğ°Ğ½Ñ‚ÑƒĞ»", "Ñ‚Ğ°Ğ¿Ğ¸Ñ€", "Ñ‚ĞµÑ€Ğ¼Ğ¸Ñ‚", "Ñ‚Ğ¸Ğ³Ñ€", "Ñ‚ÑƒĞºĞ°Ğ½", "Ñ‚ÑƒĞ½ĞµÑ†", "Ñ‚ÑĞ»ĞµĞ½ÑŒ", 
    "ÑƒĞ»Ğ¸Ñ‚ĞºĞ°", "ÑƒÑ‚ĞºĞ°", "Ñ„Ğ°Ğ·Ğ°Ğ½", "Ñ„Ğ¸Ğ»Ğ¸Ğ½", "Ñ„Ğ»Ğ°Ğ¼Ğ¸Ğ½Ğ³Ğ¾", "Ñ„Ğ¾Ñ€ĞµĞ»ÑŒ", "Ñ…Ğ°Ğ¼ĞµĞ»ĞµĞ¾Ğ½", "Ñ…Ğ¾Ğ¼ÑĞº", 
    "Ñ…Ğ¾Ñ€ĞµĞº", "Ñ†Ğ°Ğ¿Ğ»Ñ", "Ñ†ĞµÑĞ°Ñ€ĞºĞ°", "Ñ†Ğ¸ĞºĞ°Ğ´Ğ°", "Ñ‡ĞµÑ€ĞµĞ¿Ğ°Ñ…Ğ°", "Ñ‡ĞµÑ€Ğ½Ñ‹Ğ¹Ğ´Ñ€Ğ¾Ğ·Ğ´", "Ñ‡Ğ¸Ğ±Ğ¸Ñ", 
    "Ñ‡Ğ¸Ğ¶", "ÑˆĞ¸Ğ¼Ğ¿Ğ°Ğ½Ğ·Ğµ", "ÑˆĞ¸Ğ½ÑˆĞ¸Ğ»Ğ»Ğ°", "Ñ‰ĞµĞ³Ğ¾Ğ»", "Ñ‰ĞµĞ½Ğ¾Ğº", "ÑĞ¼Ñƒ", "ÑĞ³ÑƒĞ°Ñ€", "ÑĞº", 
    "ÑÑÑ‚Ñ€ĞµĞ±", "ÑÑ‰ĞµÑ€Ğ¸Ñ†Ğ°"
];

// ĞšĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸Ñ Ğ¡Ñ‚Ñ€Ğ°Ğ½Ñ‹
const COUNTRY_WORDS = [
    "Ñ€Ğ¾ÑÑĞ¸Ñ", "Ğ³ĞµÑ€Ğ¼Ğ°Ğ½Ğ¸Ñ", "Ñ„Ñ€Ğ°Ğ½Ñ†Ğ¸Ñ", "Ğ¸Ñ‚Ğ°Ğ»Ğ¸Ñ", "ĞºĞ¸Ñ‚Ğ°Ğ¹", "Ğ¸Ğ½Ğ´Ğ¸Ñ", "Ğ±Ñ€Ğ°Ğ·Ğ¸Ğ»Ğ¸Ñ", 
    "ĞºĞ°Ğ½Ğ°Ğ´Ğ°", "Ğ¼ĞµĞºÑĞ¸ĞºĞ°", "ÑĞ¿Ğ¾Ğ½Ğ¸Ñ", "ĞºĞ¾Ñ€ĞµÑ", "Ñ‚ÑƒÑ€Ñ†Ğ¸Ñ", "ĞµĞ³Ğ¸Ğ¿ĞµÑ‚", "Ğ³Ñ€ĞµÑ†Ğ¸Ñ", "Ğ°Ğ²ÑÑ‚Ñ€Ğ°Ğ»Ğ¸Ñ", 
    "ÑˆĞ²ĞµÑ†Ğ¸Ñ", "Ğ½Ğ¾Ñ€Ğ²ĞµĞ³Ğ¸Ñ", "Ñ„Ğ¸Ğ½Ğ»ÑĞ½Ğ´Ğ¸Ñ", "Ğ¿Ğ¾Ğ»ÑŒÑˆĞ°", "ÑƒĞºÑ€Ğ°Ğ¸Ğ½Ğ°", "ĞºĞ°Ğ·Ğ°Ñ…ÑÑ‚Ğ°Ğ½", "ÑƒĞ·Ğ±ĞµĞºĞ¸ÑÑ‚Ğ°Ğ½", 
    "Ğ°Ğ·ĞµÑ€Ğ±Ğ°Ğ¹Ğ´Ğ¶Ğ°Ğ½", "Ğ°Ñ€Ğ¼ĞµĞ½Ğ¸Ñ", "Ğ³Ñ€ÑƒĞ·Ğ¸Ñ", "Ğ±ĞµĞ»Ğ°Ñ€ÑƒÑÑŒ", "Ğ¼Ğ¾Ğ»Ğ´Ğ¾Ğ²Ğ°", "Ñ€ÑƒĞ¼Ñ‹Ğ½Ğ¸Ñ", "Ğ±Ğ¾Ğ»Ğ³Ğ°Ñ€Ğ¸Ñ", 
    "ÑĞµÑ€Ğ±Ğ¸Ñ", "Ñ…Ğ¾Ñ€Ğ²Ğ°Ñ‚Ğ¸Ñ", "Ğ²ĞµĞ½Ğ³Ñ€Ğ¸Ñ", "Ñ‡ĞµÑ…Ğ¸Ñ", "ÑĞ»Ğ¾Ğ²Ğ°ĞºĞ¸Ñ", "Ğ°Ğ²ÑÑ‚Ñ€Ğ¸Ñ", "ÑˆĞ²ĞµĞ¹Ñ†Ğ°Ñ€Ğ¸Ñ", 
    "Ğ¿Ğ¾Ñ€Ñ‚ÑƒĞ³Ğ°Ğ»Ğ¸Ñ", "Ğ±ĞµĞ»ÑŒĞ³Ğ¸Ñ", "Ğ½Ğ¸Ğ´ĞµÑ€Ğ»Ğ°Ğ½Ğ´Ñ‹", "Ğ´Ğ°Ğ½Ğ¸Ñ", "Ğ¸Ñ€Ğ»Ğ°Ğ½Ğ´Ğ¸Ñ", "Ğ¸ÑĞ»Ğ°Ğ½Ğ´Ğ¸Ñ", "ÑÑˆĞ°", 
    "Ğ°Ñ€Ğ³ĞµĞ½Ñ‚Ğ¸Ğ½Ğ°", "Ñ‡Ğ¸Ğ»Ğ¸", "Ğ¿ĞµÑ€Ñƒ", "ĞºĞ¾Ğ»ÑƒĞ¼Ğ±Ğ¸Ñ", "ÑĞºĞ²Ğ°Ğ´Ğ¾Ñ€", "Ğ²ĞµĞ½ĞµÑÑƒÑĞ»Ğ°", "Ğ¼Ğ°Ñ€Ğ¾ĞºĞºĞ¾", 
    "Ğ°Ğ»Ğ¶Ğ¸Ñ€", "Ñ‚ÑƒĞ½Ğ¸Ñ", "Ğ»Ğ¸Ğ²Ğ¸Ñ", "Ğ½Ğ¸Ğ³ĞµÑ€Ğ¸Ñ", "ĞºĞµĞ½Ğ¸Ñ", "ÑĞ°Ñ€", "Ğ¸Ğ·Ñ€Ğ°Ğ¸Ğ»ÑŒ", "Ğ¸Ğ¾Ñ€Ğ´Ğ°Ğ½Ğ¸Ñ", 
    "ÑĞ°ÑƒĞ´Ğ¾Ğ²ÑĞºĞ°ÑĞ°Ñ€Ğ°Ğ²Ğ¸Ñ", "Ğ¸Ñ€Ğ°Ğ½", "Ğ¸Ñ€Ğ°Ğº", "Ğ¿Ğ°ĞºĞ¸ÑÑ‚Ğ°Ğ½", "Ğ°Ñ„Ğ³Ğ°Ğ½Ğ¸ÑÑ‚Ğ°Ğ½", "Ñ‚Ğ°Ğ¸Ğ»Ğ°Ğ½Ğ´", "Ğ²ÑŒĞµÑ‚Ğ½Ğ°Ğ¼", 
    "Ğ¼Ğ°Ğ»Ğ°Ğ¹Ğ·Ğ¸Ñ", "Ñ„Ğ¸Ğ»Ğ¸Ğ¿Ğ¿Ğ¸Ğ½Ñ‹", "Ğ¸Ğ½Ğ´Ğ¾Ğ½ĞµĞ·Ğ¸Ñ", "Ğ½ĞµĞ¿Ğ°Ğ»", "Ğ±Ğ°Ğ½Ğ³Ğ»Ğ°Ğ´ĞµÑˆ", "ÑˆÑ€Ğ¸Ğ»Ğ°Ğ½ĞºĞ°", "ĞºÑƒĞ±Ğ°", 
    "Ğ³Ğ°Ğ¸Ñ‚Ğ¸", "Ğ´Ğ¾Ğ¼Ğ¸Ğ½Ğ¸ĞºĞ°Ğ½Ğ°", "ÑĞ¼Ğ°Ğ¹ĞºĞ°", "Ğ½Ğ¾Ğ²Ğ°ÑĞ·ĞµĞ»Ğ°Ğ½Ğ´Ğ¸Ñ", "Ñ„Ğ¸Ğ´Ğ¶Ğ¸", "Ğ¼Ğ°Ğ»ÑŒÑ‚Ğ°", "ĞºĞ¸Ğ¿Ñ€", 
    "Ğ»Ğ¸Ğ²Ğ°Ğ½", "ÑĞ¸Ñ€Ğ¸Ñ", "ĞºÑƒĞ²ĞµĞ¹Ñ‚", "Ğ¾Ğ°Ñ", "ĞºĞ°Ñ‚Ğ°Ñ€", "Ğ±Ğ°Ğ³Ğ°Ğ¼Ñ‹", "Ğ±Ğ°Ñ€Ğ±Ğ°Ğ´Ğ¾Ñ", "Ğ³Ğ¾Ğ½Ğ´ÑƒÑ€Ğ°Ñ", 
    "Ğ¿Ğ°Ğ½Ğ°Ğ¼Ğ°", "ĞºĞ¾ÑÑ‚Ğ°Ñ€Ğ¸ĞºĞ°", "Ğ½Ğ¸ĞºĞ°Ñ€Ğ°Ğ³ÑƒĞ°", "ÑĞ°Ğ»ÑŒĞ²Ğ°Ğ´Ğ¾Ñ€", "Ğ¿Ğ°Ñ€Ğ°Ğ³Ğ²Ğ°Ğ¹", "ÑƒÑ€ÑƒĞ³Ğ²Ğ°Ğ¹", "Ğ±Ğ¾Ğ»Ğ¸Ğ²Ğ¸Ñ", 
    "ÑÑƒĞ´Ğ°Ğ½", "ÑÑ„Ğ¸Ğ¾Ğ¿Ğ¸Ñ", "Ñ‚Ğ°Ğ½Ğ·Ğ°Ğ½Ğ¸Ñ", "ÑƒĞ³Ğ°Ğ½Ğ´Ğ°", "ÑĞ¾Ğ¼Ğ°Ğ»Ğ¸", "Ğ°Ğ½Ğ³Ğ¾Ğ»Ğ°", "Ğ·Ğ°Ğ¼Ğ±Ğ¸Ñ", "Ğ·Ğ¸Ğ¼Ğ±Ğ°Ğ±Ğ²Ğµ"
];

// ĞšĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸Ñ Ğ“Ğ¾Ñ€Ğ¾Ğ´Ğ°
const CITY_WORDS = [
    "Ğ¼Ğ¾ÑĞºĞ²Ğ°", "Ğ¿Ğ°Ñ€Ğ¸Ğ¶", "Ğ»Ğ¾Ğ½Ğ´Ğ¾Ğ½", "ĞºĞ¸ĞµĞ²", "Ğ±ĞµÑ€Ğ»Ğ¸Ğ½", "Ñ€Ğ¸Ğ¼", "Ğ¼Ğ°Ğ´Ñ€Ğ¸Ğ´", "Ğ²ĞµĞ½Ğ°", 
    "Ğ¿Ñ€Ğ°Ğ³Ğ°", "Ğ²Ğ°Ñ€ÑˆĞ°Ğ²Ğ°", "Ğ±ÑƒĞ´Ğ°Ğ¿ĞµÑˆÑ‚", "Ğ°Ğ¼ÑÑ‚ĞµÑ€Ğ´Ğ°Ğ¼", "Ğ±Ñ€ÑÑÑĞµĞ»ÑŒ", "ÑÑ‚Ğ¾ĞºĞ³Ğ¾Ğ»ÑŒĞ¼", 
    "Ğ¾ÑĞ»Ğ¾", "Ñ‚Ğ¾ĞºĞ¸Ğ¾", "Ğ¿ĞµĞºĞ¸Ğ½", "ÑˆĞ°Ğ½Ñ…Ğ°Ğ¹", "ÑĞµÑƒĞ»", "Ğ´ÑƒĞ±Ğ°Ğ¹", "Ğ½ÑŒÑĞ´ĞµĞ»Ğ¸", "Ğ¼ÑƒĞ¼Ğ±Ğ°Ğ¸", 
    "ÑĞ¸Ğ´Ğ½ĞµĞ¹", "ĞºĞ°Ğ¸Ñ€", "Ğ½ÑŒÑĞ¹Ğ¾Ñ€Ğº", "Ğ»Ğ¾ÑĞ°Ğ½Ğ´Ğ¶ĞµĞ»ĞµÑ", "Ñ‡Ğ¸ĞºĞ°Ğ³Ğ¾", "Ğ¼Ğ°Ğ¹Ğ°Ğ¼Ğ¸", 
    "Ğ±Ğ¾ÑÑ‚Ğ¾Ğ½", "Ğ¼Ğ¾Ğ½Ñ€ĞµĞ°Ğ»ÑŒ", "Ñ‚Ğ¾Ñ€Ğ¾Ğ½Ñ‚Ğ¾", "Ğ¼ĞµÑ…Ğ¸ĞºĞ¾", "Ğ±ÑƒÑĞ½Ğ¾ÑĞ°Ğ¹Ñ€ĞµÑ", "ÑĞ°Ğ½Ñ‚Ğ¸Ğ°Ğ³Ğ¾", 
    "Ğ»Ğ¸Ğ¼Ğ°", "Ğ³Ğ°Ğ²Ğ°Ğ½Ğ°", "Ñ„Ğ»Ğ¾Ñ€ĞµĞ½Ñ†Ğ¸Ñ", "Ğ¼Ğ¸Ğ»Ğ°Ğ½", "Ğ±Ğ°Ñ€ÑĞµĞ»Ğ¾Ğ½Ğ°", "Ğ¼ÑĞ½Ñ…ĞµĞ½", 
    "Ğ»Ğ¸Ğ¾Ğ½", "Ğ¼Ğ°Ğ½Ñ‡ĞµÑÑ‚ĞµÑ€", "ÑĞ°Ğ½ĞºÑ‚Ğ¿ĞµÑ‚ĞµÑ€Ğ±ÑƒÑ€Ğ³", "ĞµĞºĞ°Ñ‚ĞµÑ€Ğ¸Ğ½Ğ±ÑƒÑ€Ğ³", "Ğ½Ğ¾Ğ²Ğ¾ÑĞ¸Ğ±Ğ¸Ñ€ÑĞº", 
    "ĞºĞ°Ğ·Ğ°Ğ½ÑŒ", "Ğ°ÑÑ‚Ğ°Ğ½Ğ°", "Ğ°Ğ»Ğ¼Ğ°Ñ‚Ñ‹", "Ñ‚Ğ°ÑˆĞºĞµĞ½Ñ‚", "Ğ±Ğ°ĞºÑƒ"
];

// ĞšĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸Ñ Ğ‘Ñ€ĞµĞ½Ğ´Ñ‹ Ğ¸ ĞšĞ¾Ğ¼Ğ¿Ğ°Ğ½Ğ¸Ğ¸
const BRAND_WORDS = [
    "google", "apple", "nike", "sony", "adidas", "samsung", "huawei", "xiaomi", 
    "microsoft", "intel", "nvidia", "amd", "canon", "pepsi", "cocacola", "starbucks", 
    "mcdonalds", "kfc", "dominos", "mercedes", "bmw", "audi", "volkswagen", 
    "porsche", "ferrari", "toyota", "honda", "nissan", "ford", "tesla", 
    "spacex", "boeing", "ikea", "zara", "louisvuitton", "gucci", 
    "chanel", "ebay", "amazon", "netflix", "spotify", "whatsapp", "instagram", 
    "facebook", "tiktok", "twitter", "telegram", "youtube", "twitch"
];

// ĞĞ±ÑŠĞµĞ´Ğ¸Ğ½ÑĞµĞ¼ Ğ²ÑĞµ ĞºĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸Ğ¸
const CATEGORIES = {
    'Ğ–Ğ¸Ğ²Ğ¾Ñ‚Ğ½Ñ‹Ğµ': ANIMAL_WORDS,
    'Ğ¡Ñ‚Ñ€Ğ°Ğ½Ñ‹': COUNTRY_WORDS,
    'Ğ“Ğ¾Ñ€Ğ¾Ğ´Ğ°': CITY_WORDS,
    'Ğ‘Ñ€ĞµĞ½Ğ´Ñ‹ Ğ¸ ĞšĞ¾Ğ¼Ğ¿Ğ°Ğ½Ğ¸Ğ¸': BRAND_WORDS
};

// ASCII-Ğ°Ñ€Ñ‚ Ğ²Ğ¸ÑĞµĞ»Ğ¸Ñ†Ñ‹ Ğ´Ğ»Ñ ĞºĞ°Ğ¶Ğ´Ğ¾Ğ³Ğ¾ ÑÑ‚Ğ°Ğ¿Ğ° (0-7 Ğ¾ÑˆĞ¸Ğ±Ğ¾Ğº)
const HANGMAN_STAGES = [
    `
â”Œâ”€â”€â”€â”€â”€â”
â”‚     
â”‚     
â”‚     
â”‚     
â””â”€â”€â”€â”€â”€`,
    `
â”Œâ”€â”€â”€â”€â”€â”
â”‚     â”‚
â”‚     
â”‚     
â”‚     
â””â”€â”€â”€â”€â”€`,
    `
â”Œâ”€â”€â”€â”€â”€â”
â”‚     â”‚
â”‚     ğŸ˜Ÿ
â”‚     
â”‚     
â””â”€â”€â”€â”€â”€`,
    `
â”Œâ”€â”€â”€â”€â”€â”
â”‚     â”‚
â”‚     ğŸ˜Ÿ
â”‚     â”‚
â”‚     
â””â”€â”€â”€â”€â”€`,
    `
â”Œâ”€â”€â”€â”€â”€â”
â”‚     â”‚
â”‚     ğŸ˜Ÿ
â”‚     â”€â”¤
â”‚     
â””â”€â”€â”€â”€â”€`,
    `
â”Œâ”€â”€â”€â”€â”€â”
â”‚     â”‚
â”‚     ğŸ˜Ÿ
â”‚     â”€â”¼â”€
â”‚     
â””â”€â”€â”€â”€â”€`,
    `
â”Œâ”€â”€â”€â”€â”€â”
â”‚     â”‚
â”‚     ğŸ˜Ÿ
â”‚     â”€â”¼â”€
â”‚     â•±
â””â”€â”€â”€â”€â”€`,
    `
â”Œâ”€â”€â”€â”€â”€â”
â”‚     â”‚
â”‚     ğŸ˜µ
â”‚     â”€â”¼â”€
â”‚     â•± â•²
â””â”€â”€â”€â”€â”€`
];

// Ğ¥Ñ€Ğ°Ğ½Ğ¸Ğ»Ğ¸Ñ‰Ğµ Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ñ‹Ñ… Ğ¸Ğ³Ñ€
const games = new Map();

// Ğ ÑƒÑÑĞºĞ¸Ğ¹ Ğ°Ğ»Ñ„Ğ°Ğ²Ğ¸Ñ‚
const RUSSIAN_ALPHABET = 'Ğ°Ğ±Ğ²Ğ³Ğ´ĞµÑ‘Ğ¶Ğ·Ğ¸Ğ¹ĞºĞ»Ğ¼Ğ½Ğ¾Ğ¿Ñ€ÑÑ‚ÑƒÑ„Ñ…Ñ†Ñ‡ÑˆÑ‰ÑŠÑ‹ÑŒÑÑÑ'.split('');

// ĞšĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ° /start
bot.start((ctx) => {
    ctx.reply(
        'ğŸ® <b>Ğ”Ğ¾Ğ±Ñ€Ğ¾ Ğ¿Ğ¾Ğ¶Ğ°Ğ»Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ² Ğ¸Ğ³Ñ€Ñƒ "Ğ’Ğ¸ÑĞµĞ»Ğ¸Ñ†Ğ°"!</b>\n\n' +
        'ğŸ“– <b>ĞŸÑ€Ğ°Ğ²Ğ¸Ğ»Ğ°:</b>\n' +
        'â€¢ Ğ¯ Ğ·Ğ°Ğ³Ğ°Ğ´Ñ‹Ğ²Ğ°Ñ ÑĞ»Ğ¾Ğ²Ğ¾ Ğ¸Ğ· Ğ²Ñ‹Ğ±Ñ€Ğ°Ğ½Ğ½Ğ¾Ğ¹ ĞºĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸Ğ¸\n' +
        'â€¢ Ğ’Ñ‹ ÑƒĞ³Ğ°Ğ´Ñ‹Ğ²Ğ°ĞµÑ‚Ğµ Ğ±ÑƒĞºĞ²Ñ‹, Ğ½Ğ°Ğ¶Ğ¸Ğ¼Ğ°Ñ Ğ½Ğ° ĞºĞ½Ğ¾Ğ¿ĞºĞ¸\n' +
        'â€¢ Ğ£ Ğ²Ğ°Ñ ĞµÑÑ‚ÑŒ 7 Ğ¿Ğ¾Ğ¿Ñ‹Ñ‚Ğ¾Ğº Ğ½Ğ° Ğ¾ÑˆĞ¸Ğ±ĞºĞ¸\n' +
        'â€¢ ĞŸĞ¾Ğ±ĞµĞ´Ğ¸Ñ‚Ğµ, ÑƒĞ³Ğ°Ğ´Ğ°Ğ² Ğ²ÑĞµ Ğ±ÑƒĞºĞ²Ñ‹!\n\n' +
        'Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞ¹Ñ‚Ğµ /play Ğ´Ğ»Ñ Ğ½Ğ°Ñ‡Ğ°Ğ»Ğ° Ğ½Ğ¾Ğ²Ğ¾Ğ¹ Ğ¸Ğ³Ñ€Ñ‹',
        { parse_mode: 'HTML' }
    );
});

// ĞšĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ° /play - Ğ²Ñ‹Ğ±Ğ¾Ñ€ ĞºĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸Ğ¸
bot.command('play', (ctx) => {
    const keyboard = Object.keys(CATEGORIES).map(cat => 
        [Markup.button.callback(cat, `cat_${cat}`)]
    );
    
    ctx.reply(
        'ğŸ¯ <b>Ğ’Ñ‹Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ ĞºĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸Ñ:</b>',
        {
            parse_mode: 'HTML',
            ...Markup.inlineKeyboard(keyboard)
        }
    );
});

// ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Ğ²Ñ‹Ğ±Ğ¾Ñ€Ğ° ĞºĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸Ğ¸
bot.action(/^cat_(.+)$/, async (ctx) => {
    try {
        const category = ctx.match[1];
        const chatId = ctx.chat.id;
        
        const words = CATEGORIES[category];
        const word = words[Math.floor(Math.random() * words.length)];
        
        games.set(chatId, {
            word: word.toLowerCase(),
            category,
            guessed: new Set(),
            mistakes: 0,
            usedLetters: new Set()
        });
        
        const message = await ctx.reply(
            getGameMessage(chatId),
            {
                parse_mode: 'HTML',
                ...Markup.inlineKeyboard(getKeyboard(chatId))
            }
        );
        
        games.get(chatId).messageId = message.message_id;
        await ctx.answerCbQuery('Ğ˜Ğ³Ñ€Ğ° Ğ½Ğ°Ñ‡Ğ°Ğ»Ğ°ÑÑŒ! Ğ£Ğ´Ğ°Ñ‡Ğ¸! ğŸ€');
    } catch (error) {
        console.error('ĞÑˆĞ¸Ğ±ĞºĞ° Ğ¿Ñ€Ğ¸ Ğ²Ñ‹Ğ±Ğ¾Ñ€Ğµ ĞºĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸Ğ¸:', error);
        ctx.answerCbQuery('ĞŸÑ€Ğ¾Ğ¸Ğ·Ğ¾ÑˆĞ»Ğ° Ğ¾ÑˆĞ¸Ğ±ĞºĞ°. ĞŸĞ¾Ğ¿Ñ€Ğ¾Ğ±ÑƒĞ¹Ñ‚Ğµ /play ÑĞ½Ğ¾Ğ²Ğ°.');
    }
});

// ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Ğ½Ğ°Ğ¶Ğ°Ñ‚Ğ¸Ñ Ğ½Ğ° Ğ±ÑƒĞºĞ²Ñƒ
bot.action(/^letter_(.+)$/, async (ctx) => {
    try {
        const letter = ctx.match[1];
        const chatId = ctx.chat.id;
        const game = games.get(chatId);
        
        if (!game) {
            return ctx.answerCbQuery('âš ï¸ ĞĞµÑ‚ Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ğ¾Ğ¹ Ğ¸Ğ³Ñ€Ñ‹! Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞ¹Ñ‚Ğµ /play', { show_alert: true });
        }
        
        if (game.usedLetters.has(letter)) {
            return ctx.answerCbQuery('âš ï¸ Ğ­Ñ‚Ğ° Ğ±ÑƒĞºĞ²Ğ° ÑƒĞ¶Ğµ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ°!', { show_alert: true });
        }
        
        game.usedLetters.add(letter);
        
        if (game.word.includes(letter)) {
            game.guessed.add(letter);
            await ctx.answerCbQuery('âœ… Ğ•ÑÑ‚ÑŒ Ñ‚Ğ°ĞºĞ°Ñ Ğ±ÑƒĞºĞ²Ğ°!');
        } else {
            game.mistakes++;
            await ctx.answerCbQuery('âŒ ĞĞµÑ‚ Ñ‚Ğ°ĞºĞ¾Ğ¹ Ğ±ÑƒĞºĞ²Ñ‹');
        }
        
        const isWin = checkWin(game);
        const isLose = game.mistakes >= 7;
        
        if (isWin || isLose) {
            await ctx.editMessageText(
                getGameMessage(chatId, true),
                {
                    parse_mode: 'HTML',
                    ...Markup.inlineKeyboard([[
                        Markup.button.callback('ğŸ”„ ĞĞ¾Ğ²Ğ°Ñ Ğ¸Ğ³Ñ€Ğ°', 'new_game')
                    ]])
                }
            );
            games.delete(chatId);
        } else {
            await ctx.editMessageText(
                getGameMessage(chatId),
                {
                    parse_mode: 'HTML',
                    ...Markup.inlineKeyboard(getKeyboard(chatId))
                }
            );
        }
    } catch (error) {
        console.error('ĞÑˆĞ¸Ğ±ĞºĞ° Ğ¿Ñ€Ğ¸ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞµ Ğ±ÑƒĞºĞ²Ñ‹:', error);
        if (error.message.includes('message is not modified')) {
            ctx.answerCbQuery('âš ï¸ Ğ˜Ğ³Ñ€Ğ° ÑƒĞ¶Ğµ Ğ·Ğ°Ğ²ĞµÑ€ÑˆĞµĞ½Ğ° Ğ¸Ğ»Ğ¸ Ğ¿Ñ€Ğ¾Ğ¸Ğ·Ğ¾ÑˆĞ»Ğ° Ğ¾ÑˆĞ¸Ğ±ĞºĞ°');
        } else {
            ctx.answerCbQuery('ĞŸÑ€Ğ¾Ğ¸Ğ·Ğ¾ÑˆĞ»Ğ° Ğ¾ÑˆĞ¸Ğ±ĞºĞ°. ĞŸĞ¾Ğ¿Ñ€Ğ¾Ğ±ÑƒĞ¹Ñ‚Ğµ ÑĞ½Ğ¾Ğ²Ğ°.');
        }
    }
});

// ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° ĞºĞ½Ğ¾Ğ¿ĞºĞ¸ "ĞĞ¾Ğ²Ğ°Ñ Ğ¸Ğ³Ñ€Ğ°"
bot.action('new_game', async (ctx) => {
    const keyboard = Object.keys(CATEGORIES).map(cat => 
        [Markup.button.callback(cat, `cat_${cat}`)]
    );
    
    await ctx.editMessageText(
        'ğŸ¯ <b>Ğ’Ñ‹Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ ĞºĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸Ñ:</b>',
        {
            parse_mode: 'HTML',
            ...Markup.inlineKeyboard(keyboard)
        }
    );
    
    ctx.answerCbQuery();
});

// Ğ¤ÑƒĞ½ĞºÑ†Ğ¸Ñ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºĞ¸ Ğ¿Ğ¾Ğ±ĞµĞ´Ñ‹
function checkWin(game) {
    for (let char of game.word) {
        if (!game.guessed.has(char)) {
            return false;
        }
    }
    return true;
}

// Ğ¤ÑƒĞ½ĞºÑ†Ğ¸Ñ Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ğ¸ Ğ¼Ğ°ÑĞºĞ¸ ÑĞ»Ğ¾Ğ²Ğ°
function getMask(game) {
    return game.word
        .split('')
        .map(char => game.guessed.has(char) ? char.toUpperCase() : '_')
        .join(' ');
}

// Ğ¤ÑƒĞ½ĞºÑ†Ğ¸Ñ Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ğ¸ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ñ Ğ¸Ğ³Ñ€Ñ‹
function getGameMessage(chatId, isEnd = false) {
    const game = games.get(chatId);
    if (!game) return 'Ğ˜Ğ³Ñ€Ğ° Ğ½Ğµ Ğ½Ğ°Ğ¹Ğ´ĞµĞ½Ğ°';
    
    const hangman = HANGMAN_STAGES[game.mistakes];
    const mask = getMask(game);
    const isWin = checkWin(game);
    const isLose = game.mistakes >= 7;
    
    let message = `<pre>${hangman}</pre>\n\n`;
    message += `ğŸ“‚ <b>ĞšĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸Ñ:</b> ${game.category}\n`;
    message += `ğŸ”¤ <b>Ğ¡Ğ»Ğ¾Ğ²Ğ¾:</b> <code>${mask}</code>\n`;
    message += `âŒ <b>ĞÑˆĞ¸Ğ±ĞºĞ¸:</b> ${game.mistakes}/7\n`;
    
    if (game.usedLetters.size > 0) {
        const used = Array.from(game.usedLetters).sort().join(', ').toUpperCase();
        message += `ğŸ“ <b>Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¾:</b> ${used}\n`;
    }
    
    if (isEnd) {
        message += '\n';
        if (isWin) {
            message += 'ğŸ‰ <b>ĞŸĞ¾Ğ·Ğ´Ñ€Ğ°Ğ²Ğ»ÑĞµĞ¼! Ğ’Ñ‹ Ğ¿Ğ¾Ğ±ĞµĞ´Ğ¸Ğ»Ğ¸!</b> ğŸ‰\n';
            message += `âœ¨ Ğ—Ğ°Ğ³Ğ°Ğ´Ğ°Ğ½Ğ½Ğ¾Ğµ ÑĞ»Ğ¾Ğ²Ğ¾: <b>${game.word.toUpperCase()}</b>`;
        } else if (isLose) {
            message += 'ğŸ’€ <b>Ğ˜Ğ³Ñ€Ğ° Ğ¾ĞºĞ¾Ğ½Ñ‡ĞµĞ½Ğ°! Ğ’Ñ‹ Ğ¿Ñ€Ğ¾Ğ¸Ğ³Ñ€Ğ°Ğ»Ğ¸.</b>\n';
            message += `ğŸ“– Ğ—Ğ°Ğ³Ğ°Ğ´Ğ°Ğ½Ğ½Ğ¾Ğµ ÑĞ»Ğ¾Ğ²Ğ¾: <b>${game.word.toUpperCase()}</b>`;
        }
    }
    
    return message;
}

// Ğ¤ÑƒĞ½ĞºÑ†Ğ¸Ñ Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ğ¸ ĞºĞ»Ğ°Ğ²Ğ¸Ğ°Ñ‚ÑƒÑ€Ñ‹
function getKeyboard(chatId) {
    const game = games.get(chatId);
    if (!game) return [];
    
    const keyboard = [];
    let row = [];
    
    RUSSIAN_ALPHABET.forEach((letter, index) => {
        if (game.usedLetters.has(letter)) {
            row.push(Markup.button.callback('âŒ', `used_${letter}`));
        } else {
            row.push(Markup.button.callback(letter.toUpperCase(), `letter_${letter}`));
        }
        
        if ((index + 1) % 8 === 0 || index === RUSSIAN_ALPHABET.length - 1) {
            keyboard.push(row);
            row = [];
        }
    });
    
    return keyboard;
}

// ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Ğ½Ğ°Ğ¶Ğ°Ñ‚Ğ¸Ñ Ğ½Ğ° Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ½ÑƒÑ Ğ±ÑƒĞºĞ²Ñƒ
bot.action(/^used_(.+)$/, (ctx) => {
    ctx.answerCbQuery('âš ï¸ Ğ­Ñ‚Ğ° Ğ±ÑƒĞºĞ²Ğ° ÑƒĞ¶Ğµ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ°!', { show_alert: true });
});

// ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Ğ¾ÑˆĞ¸Ğ±Ğ¾Ğº
bot.catch((err, ctx) => {
    console.error('ĞÑˆĞ¸Ğ±ĞºĞ° Ğ² Ğ±Ğ¾Ñ‚Ğµ:', err);
    ctx.reply('ğŸ˜” ĞŸÑ€Ğ¾Ğ¸Ğ·Ğ¾ÑˆĞ»Ğ° Ğ½ĞµĞ¿Ñ€ĞµĞ´Ğ²Ğ¸Ğ´ĞµĞ½Ğ½Ğ°Ñ Ğ¾ÑˆĞ¸Ğ±ĞºĞ°. ĞŸĞ¾Ğ¿Ñ€Ğ¾Ğ±ÑƒĞ¹Ñ‚Ğµ /play');
});

// Ğ—Ğ°Ğ¿ÑƒÑĞº Ğ±Ğ¾Ñ‚Ğ°
bot.launch()
    .then(() => console.log('âœ… Ğ‘Ğ¾Ñ‚ "Ğ’Ğ¸ÑĞµĞ»Ğ¸Ñ†Ğ°" Ğ·Ğ°Ğ¿ÑƒÑ‰ĞµĞ½!'))
    .catch(err => console.error('âŒ ĞÑˆĞ¸Ğ±ĞºĞ° Ğ·Ğ°Ğ¿ÑƒÑĞºĞ°:', err));

// ĞšĞ¾Ñ€Ñ€ĞµĞºÑ‚Ğ½Ğ¾Ğµ Ğ·Ğ°Ğ²ĞµÑ€ÑˆĞµĞ½Ğ¸Ğµ Ğ¿Ñ€Ğ¸ Ğ¾ÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞµ
process.once('SIGINT', () => bot.stop('SIGINT'));
process.once('SIGTERM', () => bot.stop('SIGTERM'));
